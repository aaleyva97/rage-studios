<p-dialog 
  header="Recuperar Contraseña" 
  [modal]="true" 
  [(visible)]="visible" 
  [style]="{ width: '25rem' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  (onHide)="onDialogHide()">
  
  <p-toast />
  
  <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 p-4">
    <div class="text-center mb-4">
      <p class="text-sm text-gray-600 leading-relaxed">
        Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña.
      </p>
    </div>
    
    <div class="flex flex-col gap-2">
      <label for="email" class="font-semibold text-sm">Correo Electrónico</label>
      <input 
        id="email" 
        type="email" 
        pInputText 
        formControlName="email"
        placeholder="tu@correo.com"
        class="w-full"
        [class.ng-invalid]="email?.invalid && email?.touched" />
      @if (email?.invalid && email?.touched) {
        @if (email?.errors?.['required']) {
          <small class="text-red-500 text-xs">El correo es requerido</small>
        }
        @if (email?.errors?.['email']) {
          <small class="text-red-500 text-xs">Ingresa un correo válido</small>
        }
      }
    </div>
    
    <div class="mt-4">
      <p-button 
        label="Enviar enlace de recuperación" 
        variant="outlined" 
        severity="contrast"
        styleClass="w-full"
        type="submit"
        [loading]="isLoading"
        [disabled]="forgotPasswordForm.invalid || isLoading" />
    </div>
    
    <div class="text-center mt-4 pt-4 border-t border-gray-200">
      <p class="text-sm text-gray-600 mb-2">¿Recordaste tu contraseña?</p>
      <p-button 
        label="Volver al inicio de sesión" 
        severity="help" 
        size="small"
        [outlined]="true"
        (onClick)="onOpenLogin()" />
    </div>
  </form>
</p-dialog>