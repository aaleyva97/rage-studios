<div class="account-container">
  <!-- Sidebar para desktop -->
  <div class="sidebar-desktop" [class.sidebar-open]="sidebarVisible() && !isMobile()">
    <div class="sidebar-header">
      <p-avatar 
        [label]="getUserDisplayName().charAt(0).toUpperCase()" 
        shape="circle" 
        size="xlarge"
        styleClass="mb-3">
      </p-avatar>
      <h3 class="text-lg font-semibold">{{ getUserDisplayName() }}</h3>
      <p class="text-sm text-gray-500">{{ currentUser()?.email }}</p>
    </div>
    
    <p-menu 
      [model]="menuItems" 
      styleClass="sidebar-menu w-full border-0">
    </p-menu>
  </div>
  
  <!-- Drawer para móvil -->
  <p-drawer 
    [(visible)]="sidebarVisible" 
    [modal]="false"
    [dismissible]="true"
    position="left"
    styleClass="mobile-sidebar"
    *ngIf="isMobile()">
    
    <ng-template pTemplate="header">
      <div class="flex items-center gap-3">
        <p-avatar 
          [label]="getUserDisplayName().charAt(0).toUpperCase()" 
          shape="circle">
        </p-avatar>
        <div>
          <div class="font-semibold">{{ getUserDisplayName() }}</div>
          <div class="text-xs text-gray-500">{{ currentUser()?.email }}</div>
        </div>
      </div>
    </ng-template>
    
    <p-menu 
      [model]="menuItems" 
      styleClass="sidebar-menu w-full border-0"
      (onSelect)="sidebarVisible.set(false)">
    </p-menu>
  </p-drawer>
  
  <!-- Contenido principal -->
  <div class="main-content" [class.sidebar-open]="sidebarVisible() && !isMobile()">
    <!-- Botón para abrir sidebar en móvil -->
    <p-button 
      icon="pi pi-bars" 
      [text]="true"
      [rounded]="true"
      severity="secondary"
      class="sidebar-toggle mb-4"
      (onClick)="toggleSidebar()"
      *ngIf="isMobile()">
    </p-button>
    
    <router-outlet></router-outlet>
  </div>
</div>